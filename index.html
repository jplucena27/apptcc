<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>App - entre ou cadastre-se</title>
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="style.css" media="all">
  <link rel="manifest" href="manifest.json">
</head>

<body>
  <div class="vertical-container">
    <div id="register_div" class="main_div">
      <img src="icons/icon-bus-144.png" alt="logo image" class="img_logo">
      <h1>Criar nova conta</h1>
      <h4>É rápido e gratuito.</h4>
      <input type="text" placeholder="Nome" id="register_user_name" />
      <input type="email" placeholder="Email..." id="register_user_email" />
      <input type="password" placeholder="Senha..." id="register_user_password" />
      <button onclick="register_user()">Registrar novo usuário</button>
      <p onclick="entrar()">Já possui uma conta? <a href="#">Entrar</a>.</p>
    </div>

    <div style="display:none" id="load" class="loader">Loading...</div>

    <div id="login_div" class="main_div">
      <img src="icons//icon-bus-144.png" alt="logo image" class="img_logo">
      <h1>Acessar sua conta</h1>
      <h4>Insira seu e-mail e senha.</h4>
      <input type="email" placeholder="Email..." id="email_field" />
      <input type="password" placeholder="Senha..." id="password_field" />
      <button onclick="login()">Fazer login</button>
      <button onclick="toRegister()">Voltar</button>
    </div>

    <div id="user_div" class="loggedin-div">
      <img src="./icons/user/user-256.png" alt="user image"
        id="user_img">
      <h3>Bem vindo.</h3>
      <p id="user_para">Você está logado como.</p>
      <button onclick="to_main()">Ver proximidades </button>

      <button onclick="logout()">Logout</button>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyBHcYZKVU4mja270nlBbPoFKA9d3dTFiYU",
      authDomain: "appweb-14c52.firebaseapp.com",
      databaseURL: "https://appweb-14c52.firebaseio.com",
      projectId: "appweb-14c52",
      storageBucket: "appweb-14c52.appspot.com",
      messagingSenderId: "294505478058"
    };
    firebase.initializeApp(config);
  </script>
  <script src="script.js"></script>
  <script>
    if('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then(function() {
              console.log('Service Worker Registered');
        });
    }
  </script>
  <script>
    const messaging = firebase.messaging();
    messaging.requestPermission()
    .then(function() {
      console.log('Notification permission granted.');
      return messaging.getToken();
    })
    .then(function(token) {
      console.log(token);
    })
    .catch(function(err) {
      console.log('Unable to get permission to notify.', err);
    })
  </script>
</body>

</html>